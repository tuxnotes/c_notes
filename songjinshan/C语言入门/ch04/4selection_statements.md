# 第4章 分支语句

## 4.1 if语句

有时我们需要检查一个条件，然后根据检查的结果执行不同的后续代码，在C语言中可以用分支语句Selection Statement实现，如：

```c
if (x != 0) {
    printf("x is nonzero.\n");
}
```

其中x != 0表示"x不等于0"的条件，这个表达式称为控制表达式Controlling Expression，如果条件成立，则{}中的语句被执行，否则{}中的语句不执行，直接跳到}后面。if和控制表达式改变了程序的控制流程Control Flow，不再是从前到后顺序执行，而是根据不同的条件执行不同的语句，这种控制流程称为分支Branch。

关系运算符和相等性运算符：

| 运算符 | 含义       |
| ------ | ---------- |
| ==     | 等于       |
| !=     | 不等于     |
| >      | 大于       |
| <      | 小于       |
| \>=    | 大于或等于 |
| <=     | 小于或等于 |

这里要注意以下几点：

- 这里的==表示数学中相等关系，相当于数学中的=号。在C语言中=号是赋值运算符。
- 如果表达式所表示的比较关系成立则值为真True,否则为False，在C语言中分别用int型的1和0表示。
- 在数学中a<b<c表示b即大于a又小于c，但作为C语言的表达式却不是这样。以上集中运算符都是左结合的。
- 这些运算符的两个操作数应该是相同类型的，两边都是整型或都是浮点型可以比较，但两个字符串不能做比较。
- ==和!=称为相等性运算符Equality Operator, 其余四个称为关系运算符Relational Operator，相等性运算符的优先级低于关系运算符。

和if语句相关的语法规则如下：

语句---> if (控制表达式) 语句

语句---> {语句列表}

语句---> ;

在C语言中，任何允许出现语句的地方既可以是由;号结尾的一条语句，也可以是由{}括起来的若干条语句或声明组成的语句块Statement Block, 语句块和上一张介绍的函数体的语法相同。注意语句块的}后面不需要加;号。如果}后面加了;号，则这个;号本身有事一条新的语句了，在C语言中一个单独的;号表示一条空语句Null Statement.

上例的语句块只有一条语句，其实没必要携程语句块，可以简单地写成：

```c
if (x != 0)
    printf("x is nonzore.\n");
```

语句块中也可以定义几步变量，如：

```c
void foo(void)
{
    int i = 0;
    {
        int i = 1;
        int j = 2;
        printf("i=%d, j=%d\n", i, j);
    }
    printf("i=%d\n", i); /* cannot access j here */
}    
```

和函数的局部变量同样道理，每次进入语句块时为变量j分配存储空间，每次退出语句块是释放变量j的存储空间。语句块也构成一个作用域，语句块中的变量j在退出语句块之后就没有了，因此最后一行的printf不能打印变量j，否则编译器会报错。语句块可以用在任何允许出现语句块的地方，不一定非得用在if语句中，单独使用语句块通常是为了定义一些比函数的局部变量更"局部"的变量。