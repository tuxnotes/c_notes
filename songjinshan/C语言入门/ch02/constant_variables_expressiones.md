# 2 常量、变量、表达式

## 2.1 注释

```c
#include <stdio.h>

/*
 * comment1
 * main: generate some simple out put
 */

int main(void)
{
    printf(/* comment2 */"Hello, world.\n"); /*
comment3 */
    return 0;
}
```

第一个注释跨越了四行，注释界定符(Delimiter)是/\*和\*/ ， 中间两行开头的*号没有特殊含义，只是为了看起来整齐，这不是语法规则而是大家都遵守的C代码风格(coding style)之一。

使用注释需要注意的两点：

- 注释不能嵌套(Nest)使用，就是一个主食的文字中不能再出现/\*和\*/了。
- 有的C代码中有类似// comment的注释，两个/斜线(slash)表示从这里直到该行末尾的所有字符都属于注释，这种注释不能跨行，也不能穿插在一行代码中间。

## 2.2 常量

Constant是程序中最基本的元素，有 character constant, integer constant, floating point constant 和枚举常量。

字符常量要用单引号括起来，且只能括一个字符。字符常量也可以是一个转义序列，如'\n'，虽然单引号括了两个字符，但实际上只表示一个字符。

计算机中整数和小数的内部表示方式不同，因而在C语言中是两种不同的类型(Type).

关于printf的说明：

```c
printf("character: %c\ninteger: %d\nfloating point: %f\n", '}', 34, 3.14);
```

printf中的第一个字符串为格式化字符串(Format String), 它规定了后面几个常量以何种格式插入到这个字符串中。%后面的c,d,f分别表示字符型，整型，和浮点型的转换说明Conversion Specification, 转换说名只在格式化字符串占个位置，并不出现在最终的打印结果中，这种用法通常叫占位符Placeholder。

有时候不同类型的数据很容易弄混，例如"5", '5', 5。第一个是字符串字面值，第二个是字符，第三个是整数。

## 2.3 Variables

variables 是编程语言中重要的概念之一，变量是计算机存储器中的一块命名的空间，可以在里面存储一个值，存储的值是可以随时变化的。

常量有不同的类型，因此变量也有不同的类型，变量的类型也决定了它所占的存储空间大小。

**声明和定义**:

C语言中的声明Declaration有变量声明、函数声明和类型声明三种。

如果一个变量或函数的声明要求编译器为它分配存储空间，那么可以称为定义Definition，因此定义是声明的一种。

声明和定义的详细区别在第二部分中第20章第2节介绍。

函数的定义和声明也是这样区分，分配存储空间的函数声明可以称为函数定义。从第7章结构体开始会看到类型声明，声明一个类型是不分配存储空间的，但似乎叫"类型定义"听起来也不错，所以本书中"类型定义"和"类型声明"表示相同的含义。声明和语句类似，以;结尾，但是在语法上声明和语句是有区别的，语句只能出现在{}中，而声明既可以出现在{}中也可以出现在所有{}之外。

**标识符**:

一般来说应避免使用以下划线开头的标识符，以下划线开头的标识符只要不和C语言关键字冲突都是合法的，但是往往被编译器用作一些功能扩展，C标准库也定义了很多以下划线开头的标识符，所以除非你对编译器和C标准库特别清楚，一般避免使用这种标识符，以免造成命名冲突。

## 2.4 Assignment

定义了变量之后，要把值存到它们所表示的存储空间里，可以用赋值语句实现。

```c
char firstletter;
int hour, minite;
firstletter =  'a'; /* give firstletter the value 'a' */
hour = 11;			/* assing the value 11 to hour */
minute =59;			/* set minute to 59 */
```

注意变量一定要先声明后使用，编译器必须先看到变量声明，才直到firstletter, hour和minute是变量名，各自代表一块存储空间。另外，变量声明中的类型表明这个变量代表多个的一块存储空间，这样编译器才知道如何读写这块存储空间。

定义一个变量就是分配一块存储空间并给它命名；

给一个变量复制，就是把一个值保存到这块存储空间中。

变量的定义和复制也可以一步完成，这称为变量的初始化Initialization.

```c
char firstletter = 'a';
int hour = 11, minute = 59;
```

在初始化语句中，等号右边的值叫做Initializer。初始化是一种特殊的声明，而不是一种赋值语句。就目前来看，先定义一个变量在给它赋值和定义这个变量的同时给它初始化所达到的效果是一样的，C语言的很多语法规则既适用于赋值也适用于初始化，**但在以后的学习中你也会了解到它们之间的不同，请在学习过程中注意总结赋值和初始化的相同和不同之处**。

不同类型的变量所栈的存储空间大小是不同的，数据表示方式也不同，**变量的最小存储单位是字节Byte，在C语言中char型变量占一个字节，其他类型的变量占多少字节在不同平台上有不用规定**，在第15张数据类型详解中详细讨论。

## 2.5 Expression

常量和变量都可以参与加减乘除运算，+ - * /称为运算符Operator,而参与运算的常量和变量称为操作数Operand。由运算符和操作数组成的算式称为表达式Expression.

## 2.6 字符类型与字符编码

字符常量或字符型变量可以当做整数参与运算，如：

```c
printf("%c\n", 'a' + 1);
```

执行结果是b。

符号在计算机内部也用数字表示，每个字符在计算机内部用一个整数表示，称为字符编码(Character Encoding), 目前最常用的是ASCII码